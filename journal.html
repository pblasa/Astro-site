<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Journal – Everything is Connected</title>

<link rel="preload" href="/fonts/Outfit-VariableFont_wght.ttf" as="font" type="font/ttf" crossorigin>

<style>
  @font-face {
  font-family: 'Outfit';
  src: url('assets/fonts/Outfit-VariableFont_wght.ttf') format('truetype');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}
  
body {
  margin: 0;
  padding: 40px 30px;
  font-family: 'Outfit', sans-serif;
  background: #3c3530;
  color: #f8f6f3;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

  h1 {
  font-size: 3rem;
  font-weight: 600;
  letter-spacing: -0.02em;
}

h2 {
  font-size: 1.6rem;
  font-weight: 500;
}

p {
  line-height: 1.6;
  max-width: 700px;
}
  .dropdown a {
  font-family: 'Outfit', sans-serif;
  font-weight: 400;
}

/* Background slideshow */
#bg-slideshow {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  z-index: -1;
  overflow: hidden;
}

.bg {
  position: absolute;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  opacity: 0;
  transition: opacity 60s ease-in-out;
}

.bg.active {
  opacity: 1;
}

/* Menu */
.menu-container {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
}

.menu-btn {
  font-size: 2rem;
  background: none;
  border: none;
  cursor: pointer;
  color: #f8f6f3;
}

.dropdown {
  display: none;
  position: absolute;
  top: 120%;
  left: 0;
  background: rgba(30,25,22,0.95);
  padding: 10px 0;
  border-radius: 8px;
  min-width: 200px;
}

.dropdown a {
  display: block;
  color: #f8f6f3;
  text-decoration: none;
  padding: 10px 20px;
}

.dropdown a:hover {
  background: rgba(255,255,255,0.08);
}

.menu-container:hover .dropdown {
  display: block;
}

/* Content */
.content {
  max-width: 900px;
  margin: 120px auto;
}
</style>
</head>

<body>

<!-- Background -->
<div id="bg-slideshow">
  <div class="bg bg1"></div>
  <div class="bg bg2"></div>
</div>

<!-- Menu -->
<div class="menu-container">
  <button class="menu-btn">☰</button>
  <div class="dropdown">
    <a href="about.html">About</a>
    <a href="readings.html">Astrology Readings</a>
    <a href="journal.html">Journal</a>
    <a href="events.html">Classes/Events</a>
    <a href="contact.html">Contact</a>
    <a href="index.html">Home</a>
  </div>
</div>

<!-- Content -->
<div class="content">

  <!-- Subscribe -->
  <iframe
    src="https://everythingisconnectedlife.substack.com/embed"
    width="100%"
    height="320"
    style="border:1px solid #EEE; border-radius:12px;"
    frameborder="0"
    scrolling="no">
  </iframe>

  <div style="height:60px;"></div>

  <!-- RSS Posts -->
  <div id="journal-posts"></div>

</div>

<!-- RSS Script -->
<script>
async function loadSubstackPosts() {
  const rssUrl = "https://everythingisconnectedlife.substack.com/feed";
  const api = "https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(rssUrl);

  const response = await fetch(api);
  const data = await response.json();
  const container = document.getElementById("journal-posts");

  data.items.slice(0,5).forEach(post => {
    const article = document.createElement("div");
    article.style.marginBottom = "60px";

    article.innerHTML = `
      <h2>
        <a href="${post.link}" target="_blank" style="color:#f8f6f3; text-decoration:none;">
          ${post.title}
        </a>
      </h2>
      <p style="color:#DCDAC7;">${post.pubDate.substring(0,16)}</p>
      <p>${post.description.substring(0,250)}...</p>
    `;

    container.appendChild(article);
  });
}

loadSubstackPosts();
</script>

<!-- Background Script -->
<script>
const images = [
  "assets/images/backgnd1.jpeg",
  "assets/images/backgnd2.jpeg",
  "assets/images/backgnd3.jpeg",
  "assets/images/backgnd4.jpeg"
];

let index = 0;
let showingFirst = true;

const bg1 = document.querySelector(".bg1");
const bg2 = document.querySelector(".bg2");

bg1.style.backgroundImage = `url('${images[0]}')`;
bg1.classList.add("active");

setInterval(() => {
  const nextIndex = (index + 1) % images.length;
  const nextBg = showingFirst ? bg2 : bg1;
  const currentBg = showingFirst ? bg1 : bg2;

  nextBg.style.backgroundImage = `url('${images[nextIndex]}')`;
  nextBg.classList.add("active");
  currentBg.classList.remove("active");

  showingFirst = !showingFirst;
  index = nextIndex;
}, 80000);
</script>

</body>
</html>
